{"version":3,"file":"block-board.js","sourceRoot":"","sources":["../src/block-board.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAE9D,OAAO,8BAA8B,CAAC;AACtC,OAAO,6BAA6B,CAAC;AACrC,OAAO,+BAA+B,CAAC;AACvC,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAC9C,OAAO,EAAE,sBAAsB,EAAE,MAAM,6BAA6B,CAAC;AACrE,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AACzC,OAAO,EAAE,wBAAwB,EAAE,MAAM,+BAA+B,CAAC;AACzE,OAAO,EAAE,uBAAuB,EAAE,MAAM,8BAA8B,CAAC;AACvE,OAAO,EAAE,MAAM,EAAE,MAAM,4CAA4C,CAAC;AACpE,OAAO,EAAE,UAAU,EAAE,MAAM,iDAAiD,CAAC;AAE7E,MAAM,OAAO,UAAW,SAAQ,MAAM,CAAC,UAAU,CAAC;IAAlD;;QACsC,YAAO,GAAY,IAAI,CAAC;QACzB,qBAAgB,GAAiB,EAAE,CAAC;QAS5C,gBAAW,GAEtB,SAAS,CAAC;IA+E5B,CAAC;IAxFC,IAAI,eAAe,CAAC,MAAe;QACjC,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;IACtC,CAAC;IACD,IAAI,eAAe;QACjB,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAeD,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,YAAY,EAAE,MAAM;YACpB,iBAAiB,EAAE,UAAU;YAC7B,6BAA6B,EAAE,wBAAwB;YACvD,2BAA2B,EAAE,sBAAsB;YACnD,4BAA4B,EAAE,uBAAuB;SACtD,CAAC;IACJ,CAAC;IAED,UAAU;;QACR,MAAM,MAAM,GAA2B,MAAA,IAAI,CAAC,UAAU,0CAAE,cAAc,CACpE,eAAe,CACU,CAAC;QAE5B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QAEtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,aAAa,EAAE;YAC7B,MAAM,EAAE,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE;SAC1C,CAAC,CACH,CAAC;IACJ,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAA;;;uBAGQ,IAAI,CAAC,WAAW;2BACZ,IAAI,CAAC,eAAe;;KAE1C,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,OAAO,IAAI,CAAA;;;;;;uBAMQ,IAAI,CAAC,UAAU;;;;+BAIP,IAAI,CAAC,eAAe;;;;;;;;;2BASxB,IAAI,CAAC,WAAW;+BACZ,IAAI,CAAC,eAAe;;;;KAI9C,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;;YAC7C,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;IAClC,CAAC;;AA5EM,iBAAM,GAAG;IACd,YAAY;IACZ,GAAG,CAAA;;;;KAIF;CACF,CAAC;AArB2B;IAA5B,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;2CAAgC;AACjC;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;oDAA6C;AAS5C;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;+CAEA","sourcesContent":["import { html, css, LitElement, property } from \"lit-element\";\nimport { Block, BlockLayoutNode } from \"./block\";\nimport \"./block-board-block-selector\";\nimport \"./block-board-layout-editor\";\nimport \"./block-board-layout-renderer\";\nimport { sharedStyles } from \"./sharedStyles\";\nimport { BlockBoardLayoutEditor } from \"./block-board-layout-editor\";\nimport { Scoped } from \"scoped-elements\";\nimport { BlockBoardLayoutRenderer } from \"./block-board-layout-renderer\";\nimport { BlockBoardBlockSelector } from \"./block-board-block-selector\";\nimport { Drawer } from \"scoped-material-components/dist/mwc-drawer\";\nimport { IconButton } from \"scoped-material-components/dist/mwc-icon-button\";\n\nexport class BlockBoard extends Scoped(LitElement) {\n  @property({ type: Boolean }) public editing: boolean = true;\n  @property({ type: Array }) private _availableBlocks: Array<Block> = [];\n\n  set availableBlocks(blocks: Block[]) {\n    this._availableBlocks = [...blocks];\n  }\n  get availableBlocks() {\n    return this._availableBlocks;\n  }\n\n  @property({ type: Array }) blockLayout:\n    | BlockLayoutNode\n    | undefined = undefined;\n\n  static styles = [\n    sharedStyles,\n    css`\n      :host {\n        display: flex;\n      }\n    `,\n  ];\n\n  static get scopedElements() {\n    return {\n      \"mwc-drawer\": Drawer,\n      \"mwc-icon-button\": IconButton,\n      \"block-board-layout-renderer\": BlockBoardLayoutRenderer,\n      \"block-board-layout-editor\": BlockBoardLayoutEditor,\n      \"block-board-block-selector\": BlockBoardBlockSelector,\n    };\n  }\n\n  saveLayout() {\n    const editor: BlockBoardLayoutEditor = this.shadowRoot?.getElementById(\n      \"layout-editor\"\n    ) as BlockBoardLayoutEditor;\n\n    this.blockLayout = editor.blockLayout;\n\n    this.editing = false;\n\n    this.dispatchEvent(\n      new CustomEvent(\"board-saved\", {\n        detail: { blockLayout: this.blockLayout },\n      })\n    );\n  }\n\n  renderLayout() {\n    return html`\n      <block-board-layout-renderer\n        style=\"flex: 1;\"\n        .blockLayout=${this.blockLayout}\n        .availableBlocks=${this.availableBlocks}\n      ></block-board-layout-renderer>\n    `;\n  }\n\n  renderEditingMode() {\n    return html`\n      <mwc-drawer style=\"flex: 1;\">\n        <div class=\"column\">\n          <div class=\"row\" style=\"justify-content: flex-end;\">\n            <mwc-icon-button\n              icon=\"save\"\n              @click=${this.saveLayout}\n            ></mwc-icon-button>\n          </div>\n          <block-board-block-selector\n            .availableBlocks=${this.availableBlocks}\n          ></block-board-block-selector>\n        </div>\n\n        <div slot=\"appContent\" class=\"column\" style=\"height: 100%;\">\n          <block-board-layout-editor\n            id=\"layout-editor\"\n            style=\"flex: 1;\"\n            class=\"column\"\n            .blockLayout=${this.blockLayout}\n            .availableBlocks=${this.availableBlocks}\n          ></block-board-layout-editor>\n        </div>\n      </mwc-drawer>\n    `;\n  }\n\n  render() {\n    if (this.editing) return this.renderEditingMode();\n    else return this.renderLayout();\n  }\n}\n"]}